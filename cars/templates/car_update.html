{% extends "base.html" %}
{% load widget_tweaks %}

{% block content %}
<div class="w-full max-w-2xl mx-auto bg-white rounded-3xl shadow-2xl px-8 py-12 sm:px-12 sm:py-14 mt-10">

  <div class="mb-10 text-center">
    <h2 class="text-4xl font-extrabold text-blue-600">Editar carro</h2>
    <p class="text-gray-500 text-sm mt-2">Atualize os dados do veículo abaixo</p>
  </div>

  <form method="POST" enctype="multipart/form-data" class="space-y-6">
    {% csrf_token %}

    <div>
      <label for="{{ form.model.id_for_label }}" class="block text-sm font-semibold text-gray-700 mb-1">Modelo</label>
      {{ form.model|add_class:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm" }}
      {% if form.model.errors %}
        <p class="text-sm text-red-600 mt-1">{{ form.model.errors.0 }}</p>
      {% endif %}
    </div>

    <div>
      <label for="{{ form.brand.id_for_label }}" class="block text-sm font-semibold text-gray-700 mb-1">Marca</label>
      {{ form.brand|add_class:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm" }}
      {% if form.brand.errors %}
        <p class="text-sm text-red-600 mt-1">{{ form.brand.errors.0 }}</p>
      {% endif %}
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
      <div>
        <label for="{{ form.factory_year.id_for_label }}" class="block text-sm font-semibold text-gray-700 mb-1">Ano de Fabricação</label>
        {{ form.factory_year|add_class:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm" }}
        {% if form.factory_year.errors %}
          <p class="text-sm text-red-600 mt-1">{{ form.factory_year.errors.0 }}</p>
        {% endif %}
      </div>

      <div>
        <label for="{{ form.model_year.id_for_label }}" class="block text-sm font-semibold text-gray-700 mb-1">Ano do Modelo</label>
        {{ form.model_year|add_class:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm" }}
        {% if form.model_year.errors %}
          <p class="text-sm text-red-600 mt-1">{{ form.model_year.errors.0 }}</p>
        {% endif %}
      </div>
    </div>

    <div>
      <label for="{{ form.plate.id_for_label }}" class="block text-sm font-semibold text-gray-700 mb-1">Placa</label>
      {{ form.plate|add_class:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm" }}
      {% if form.plate.errors %}
        <p class="text-sm text-red-600 mt-1">{{ form.plate.errors.0 }}</p>
      {% endif %}
    </div>

    <div>
      <label for="{{ form.value.id_for_label }}" class="block text-sm font-semibold text-gray-700 mb-1">Valor</label>
      {{ form.value|add_class:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm" }}
      {% if form.value.errors %}
        <p class="text-sm text-red-600 mt-1">{{ form.value.errors.0 }}</p>
      {% endif %}
    </div>


    <div>
      <label for="{{ form.description.id_for_label }}" class="block text-sm font-semibold text-gray-700 mb-1">Descrição</label>
      {{ form.description|add_class:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm resize-none" }}
      {% if form.description.errors %}
        <p class="text-sm text-red-600 mt-1">{{ form.description.errors.0 }}</p>
      {% endif %}
    </div>

    <div>
      <label for="{{ form.photo.id_for_label }}" class="block text-sm font-semibold text-gray-700 mb-1">Imagem do carro</label>
      {{ form.photo|add_class:"w-full text-sm mt-2" }}
      {% if form.photo.errors %}
        <p class="text-sm text-red-600 mt-1">{{ form.photo.errors.0 }}</p>
      {% endif %}
    </div>

    <!-- Botões -->
    <div class="flex flex-col sm:flex-row justify-between gap-4 pt-6">
      <a href="{% url 'cars_list' %}"
        class="w-full sm:w-auto bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold py-3 px-6 rounded-xl shadow text-center transition">
        Cancelar
      </a>

      <a href="{% url 'car_delete' pk=object.pk %}"
        class="w-full sm:w-auto bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-6 rounded-xl shadow text-center transition">
        Deletar Carro
      </a>

      <button type="submit"
        class="w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-xl shadow transition">
        Salvar Alterações
      </button>
    </div>
  </form>
</div>
{% endblock %}
